{"version":3,"sources":["store/types/types.js","store/reducer/reducer.js","store/reducer/index.js","components/button/Button.js","store/actions/actions.js","components/App.js","index.js"],"names":["GET_BUTTON_STATE","BUTTON_ON","BUTTON_OFF","initialState","buttonState","store","createStore","state","action","type","payload","composeWithDevTools","applyMiddleware","thunk","Button","dispatch","useDispatch","a","axios","get","response","data","button","console","log","useSelector","onClick","patch","style","backgroundColor","className","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"8OAAaA,EAAmB,eACnBC,EAAY,YACZC,EAAa,aCApBC,EAAe,CACnBC,YAAa,M,gBCEFC,EAAQC,uBDAE,WAAmC,IAAlCC,EAAiC,uDAAzBJ,EAAcK,EAAW,uCACvD,OAAQA,EAAOC,MACb,KAAKT,EAEL,KAAKC,EAEL,KAAKC,EACH,OAAO,2BAAKK,GAAZ,IAAmBH,YAAaI,EAAOE,UACzC,QACE,OAAOH,KCPXI,8BAAoBC,0BAAgBC,O,oECFzBC,EAAS,WACpB,IAAMC,EAAWC,cACjBD,ECgBA,uCAAO,WAAOA,GAAP,iBAAAE,EAAA,+EAEoBC,IAAMC,IAC3B,qEAHC,cAEGC,EAFH,gBAKgBA,EAASC,KAAKC,OAL9B,OAKGD,EALH,OAMHN,EAzBG,CACLN,KAAMT,EACNU,QAuB0BW,IANrB,kDAQHE,QAAQC,IAAR,MARG,0DAAP,uDDdA,IAAMjB,EAAQkB,aAAY,SAAClB,GAAD,OAAWA,EAAMH,eAM3C,OACE,mCACa,OAAVG,EAAiB,KAChB,wBACEmB,QARe,WACbX,EAARR,ECsCF,uCAAO,WAAOQ,GAAP,iBAAAE,EAAA,+EAEoBC,IAAMS,MAC3B,oEACA,CAAEL,QAAQ,IAJT,cAEGF,EAFH,gBAMgBA,EAASC,KAAKC,OAN9B,OAMGD,EANH,OAOHN,EAzCG,CACLN,KAAMP,EACNQ,QAuCwBW,IAPnB,kDASHE,QAAQC,IAAR,MATG,0DAAP,sDAdA,uCAAO,WAAOT,GAAP,iBAAAE,EAAA,+EAEoBC,IAAMS,MAC3B,oEACA,CAAEL,QAAQ,IAJT,cAEGF,EAFH,gBAMgBA,EAASC,KAAKC,OAN9B,OAMGD,EANH,OAOHN,EAjCG,CACLN,KAAMR,EACNS,QA+BuBW,IAPlB,kDASHE,QAAQC,IAAR,MATG,0DAAP,wDDhBQI,MACErB,EAAQ,CAAEsB,gBAAiB,SAAY,CAAEA,gBAAiB,OAE5DC,UAAU,SALZ,SAOGvB,EAAQ,KAAO,WEbXwB,MARf,WACE,OACE,qBAAKD,UAAU,MAAf,SACE,cAAC,EAAD,OCANE,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,CAAU7B,MAAOA,EAAjB,SACE,cAAC,EAAD,QAGJ8B,SAASC,eAAe,W","file":"static/js/main.fc6eb144.chunk.js","sourcesContent":["export const GET_BUTTON_STATE = \"BUTTON_STATE\";\r\nexport const BUTTON_ON = \"BUTTON_ON\";\r\nexport const BUTTON_OFF = \"BUTTON_OFF\";\r\n","import { GET_BUTTON_STATE, BUTTON_OFF, BUTTON_ON } from \"../types/types\";\r\n\r\nconst initialState = {\r\n  buttonState: null,\r\n};\r\nexport const reducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case GET_BUTTON_STATE:\r\n      return { ...state, buttonState: action.payload };\r\n    case BUTTON_ON:\r\n      return { ...state, buttonState: action.payload };\r\n    case BUTTON_OFF:\r\n      return { ...state, buttonState: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { createStore, applyMiddleware } from \"redux\";\r\nimport { reducer } from \"./reducer\";\r\nimport { composeWithDevTools } from \"redux-devtools-extension\";\r\nimport thunk from \"redux-thunk\";\r\n\r\nexport const store = createStore(\r\n  reducer,\r\n  composeWithDevTools(applyMiddleware(thunk))\r\n);\r\n","import React, { useEffect, useState, useCallback } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { getState, buttonOff, buttonOn } from \"../../store/actions/actions\";\r\nimport \"./Button.css\";\r\n\r\nexport const Button = () => {\r\n  const dispatch = useDispatch();\r\n  dispatch(getState());\r\n\r\n  const state = useSelector((state) => state.buttonState);\r\n\r\n  const onClickHandler = () => {\r\n    state ? dispatch(buttonOff()) : dispatch(buttonOn());\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {state === null ? null : (\r\n        <button\r\n          onClick={onClickHandler}\r\n          style={\r\n            state ? { backgroundColor: \"green\" } : { backgroundColor: \"red\" }\r\n          }\r\n          className=\"button\"\r\n        >\r\n          {state ? \"ON\" : \"OFF\"}\r\n        </button>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n","import { GET_BUTTON_STATE, BUTTON_OFF, BUTTON_ON } from \"../types/types\";\r\nimport axios from \"axios\";\r\n\r\nexport const getButtonState = (button) => {\r\n  return {\r\n    type: GET_BUTTON_STATE,\r\n    payload: button,\r\n  };\r\n};\r\nexport const setButtonOn = (button) => {\r\n  return {\r\n    type: BUTTON_ON,\r\n    payload: button,\r\n  };\r\n};\r\nexport const setButtonOff = (button) => {\r\n  return {\r\n    type: BUTTON_OFF,\r\n    payload: button,\r\n  };\r\n};\r\n\r\nexport const getState = () => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const response = await axios.get(\r\n        \"https://react-button-26d76-default-rtdb.firebaseio.com/state.json\"\r\n      );\r\n      const data = await response.data.button;\r\n      dispatch(getButtonState(data));\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n};\r\nexport const buttonOn = () => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const response = await axios.patch(\r\n        \"https://react-button-26d76-default-rtdb.firebaseio.com/state.json\",\r\n        { button: true }\r\n      );\r\n      const data = await response.data.button;\r\n      dispatch(setButtonOn(data));\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n};\r\nexport const buttonOff = () => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const response = await axios.patch(\r\n        \"https://react-button-26d76-default-rtdb.firebaseio.com/state.json\",\r\n        { button: false }\r\n      );\r\n      const data = await response.data.button;\r\n      dispatch(setButtonOff(data));\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n};\r\n","import React from \"react\";\nimport \"./App.css\";\nimport { Button } from \"./button/Button\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Button />\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport { store } from \"./store/reducer/index\";\nimport \"./index.css\";\nimport App from \"./components/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}